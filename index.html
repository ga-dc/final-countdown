<!DOCTYPE html>
<html>
  <head>
    <title>W07D05 Quiznos</title>
    <link href='http://fonts.googleapis.com/css?family=VT323' rel='stylesheet' type='text/css'>
    <style>
      *
      {
        margin:0;
        padding:0;
        border:0;
        font-size:0;
        box-sizing:border-box;
        font-family: "VT323", monospace;
      }
      body,html,form
      {
        position:relative;
        width:100%;
        height:100%;
        background-color:black;
      }
      form
      {
        display:block;
      }
      #counter
      {
        display:block;
        width:320px;
        position:relative;
        top:30%;
        margin:0 auto;
        border-radius:10px;
        font-size:144px;
        line-height:144px;
        text-align:right;
        padding:0px 24px;
        background-color:transparent;
        color:#0f0;
        box-shadow:0px 0px 100px 0px #060;
        cursor:pointer;
      }
      #counter:focus
      {
        outline:0;
      }
      #counter:hover
      {
        color:#8f8;
      }
      #counter.fail
      {
        color:red;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("#counter").val(1234);
            var firstNum = parseInt($("#counter").val());
            var isCountingDown = false;
            var timerId;

            function minusOne(){
                console.log(firstNum)
                $("#counter").val(firstNum);

                //decrease original num by 1
                if(firstNum >0){
                    firstNum=firstNum-1;
                //If number is 0 or less then stop the timer.
                }else if(firstNum <= 0){
                    // IF the counter reaches 0, the counter's text should turn red.
                    $("#counter").addClass("fail")
                    clearInterval(timerId);
                    isCountingDown = false;

                }
            }


            $("#counter").click(function(evt){
                //prevent form default of refreshing the page
                evt.preventDefault();
                //isCountingDown starts as false so this should run on first click
                if(isCountingDown === false){
                    $("#counter").removeClass("fail")
                    firstNum = 1234;
                    $("#counter").val(firstNum);
                    //run the minusOne function every time amount.
                    timerId = setInterval(minusOne, 4);
                    //set isCountingDown to true so that on next click the elseif section will run
                    isCountingDown = true;
                }else if (isCountingDown === true) {
                    //on the next click stop the timer
                    clearInterval(timerId);
                    //set boolean back to false
                    isCountingDown = false;
                    $("#counter").removeClass("fail")

                }
            });
        })


    </script>

  </head>
  <body>

    <form>
      <input type="submit" id="counter" value="200" />
    </form>

  </body>
</html>
